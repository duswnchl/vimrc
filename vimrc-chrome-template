let chtool_path=getcwd().'/tools'

filetype off
let &rtp.=','.chtool_path.'/vim/mojom'
filetype plugin indent on

set tabstop=2
set shiftwidth=2
set colorcolumn=80

"TODO: let extend(g:NERDCustomDelimiters, {'mojom': {'left': '//'}})
let g:NERDCustomDelimiters = {
            \ 'vim': { 'left': '"' },
            \ 'mojom': {'left': '//'}
            \ }

let g:ycm_extra_conf_globlist = ['../.ycm_extra_conf.py']
let g:ycm_goto_buffer_command = 'split-or-existing-window'

nmap <leader>yh :YcmCompleter GoToInclude<CR>
nmap <leader>yl :YcmCompleter GoToDeclaration<CR>
nmap <leader>yd :YcmCompleter GoTo<CR>
nmap <leader>yr :YcmCompleter GoToReferences<CR>

"TODO: recursive, auto gen
exec 'source '.chtool_path.'/vim/clang-format.vim'
exec 'source '.chtool_path.'/vim/filetypes.vim'
exec 'source '.chtool_path.'/vim/ninja-build.vim'
